<%= 
  if collection.empty?
    ""
  else
    table_str = ""
    table_str += "<table id=\"" + class_name + "\" class=\"" + class_name + "\" width=\"" + width.to_s + "\">\n" 
    table_str += "\t<thead>\n"    
    table_str += "\t\t<tr>\n"
    header_names.each do |name|
      table_str += "\t\t\t<th>"
      table_str += name
      table_str += "</th>\n"
    end   
    table_str += "\t\t</tr>\n"
    table_str += "\t</thead>\n"
    table_str += "\t<tbody>\n"
    collection.each do |col|
      table_str += "\t\t<tr>\n"
      fields.each do |name|
        table_str += "\t\t\t<td>\n"
        table_str += link_to(col[name].to_s, edit_path.gsub('1', col.id.to_s))
        table_str += "\t\t\t</td>\n"      end   
      table_str += "\t\t</tr>\n"
    end   
    table_str += "\t</tbody>\n"
    table_str += "</table>\n"
  end
%>
